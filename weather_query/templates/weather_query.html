{% extends 'base_page.html' %}

{% block content %}
    <div class="col-lg-12 col-md-12">
        <!-- 天气查询 -->
        <div class="card">
            <div class="card-header d-flex justify-content-between">
                <div class="header-title">
                    <h4 class="card-title">天气查询</h4>
                </div>
            </div>
            <div class="card-body">
                <el-row>
                    <!-- 输入城市名称 -->
                    <el-col :span="12">
                        <el-input v-model="city" placeholder="请输入城市名称(eg.南京)" clearable></el-input>
                    </el-col>
                    <el-col :span="12">
                        <el-button type="primary" @click="getWeather">查询天气</el-button>
                    </el-col>
                </el-row>

                <!-- 显示查询结果 -->
                <el-row style="margin-top: 20px;">
                    <el-col :span="12">
                        <el-card :body-style="{ padding: '20px' }">
                            <h3>24小时内天气</h3>
                            <el-table :data="hourlyWeather" style="width: 100%">
                                <el-table-column prop="time" label="时间" width="180"></el-table-column>
                                <el-table-column prop="temperature" label="温度"></el-table-column>
                            </el-table>
                        </el-card>
                    </el-col>

                    <!-- 未来几天天气 -->
                    <el-col :span="12">
                        <el-card :body-style="{ padding: '20px' }">
                            <h3>未来几天天气</h3>
                            <el-table :data="futureWeather" style="width: 100%">
                                <el-table-column prop="day" label="日期" width="180"></el-table-column>
                                <el-table-column prop="condition" label="天气"></el-table-column>
                                <el-table-column prop="temperature_range" label="温度范围"></el-table-column>
                            </el-table>
                        </el-card>

                        <div id="hourlyChart" style="width: 100%; height: 400px;"></div>

                        <div id="futureChart" style="width: 100%; height: 400px;"></div>
                    </el-col>

                </el-row>
            </div>
        </div>
    </div>
{% endblock %}
